<!DOCTYPE html>
<html><head>
<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<link href="../../../icon.png" rel="icon" type="image/png">
<script src="../../../site_libs/quarto-listing/list.min.js"></script>
<script src="../../../site_libs/quarto-listing/quarto-listing.js"></script>
<script src="../../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap-82b1a03c67a08b47b550cf05f64695ee.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
      "location": "sidebar",
      "copy-button": false,
      "collapse-after": 3,
      "panel-placement": "start",
      "type": "textbox",
      "limit": 50,
      "keyboard-shortcut": [
        "f",
        "/",
        "s"
      ],
      "show-item-context": false,
      "language": {
        "search-no-results-text": "No results",
        "search-matching-documents-text": "matching documents",
        "search-copy-link-title": "Copy link to search",
        "search-hide-matches-text": "Hide additional matches",
        "search-more-match-text": "more match in this document",
        "search-more-matches-text": "more matches in this document",
        "search-clear-button-title": "Clear",
        "search-text-placeholder": "",
        "search-detached-cancel-button-title": "Cancel",
        "search-submit-button-title": "Submit",
        "search-label": "Search"
      }
    }</script><script>

      window.document.addEventListener("DOMContentLoaded", function (_event) {
        const listingTargetEl = window.document.querySelector('#listing-posts-pibic .list');
        if (!listingTargetEl) {
          // No listing discovered, do not attach.
          return; 
        }

        const options = {
          valueNames: [{ data: ['index'] },{ data: ['categories'] },{ data: ['listing-date-sort'] },{ data: ['listing-file-modified-sort'] }],
          
          searchColumns: [],
        };

        window['quarto-listings'] = window['quarto-listings'] || {};
        window['quarto-listings']['listing-posts-pibic'] = new List('listing-posts-pibic', options);

        if (window['quarto-listing-loaded']) {
          window['quarto-listing-loaded']();
        }
      });

      window.addEventListener('hashchange',() => {
        if (window['quarto-listing-loaded']) {
          window['quarto-listing-loaded']();
        }
      })
      

      window.document.addEventListener("DOMContentLoaded", function (_event) {
        const listingTargetEl = window.document.querySelector('#listing-posts-linux .list');
        if (!listingTargetEl) {
          // No listing discovered, do not attach.
          return; 
        }

        const options = {
          valueNames: [{ data: ['index'] },{ data: ['categories'] },{ data: ['listing-date-sort'] },{ data: ['listing-file-modified-sort'] }],
          
          searchColumns: [],
        };

        window['quarto-listings'] = window['quarto-listings'] || {};
        window['quarto-listings']['listing-posts-linux'] = new List('listing-posts-linux', options);

        if (window['quarto-listing-loaded']) {
          window['quarto-listing-loaded']();
        }
      });

      window.addEventListener('hashchange',() => {
        if (window['quarto-listing-loaded']) {
          window['quarto-listing-loaded']();
        }
      })
      

      window.document.addEventListener("DOMContentLoaded", function (_event) {
        const listingTargetEl = window.document.querySelector('#listing-posts-computacao .list');
        if (!listingTargetEl) {
          // No listing discovered, do not attach.
          return; 
        }

        const options = {
          valueNames: [{ data: ['index'] },{ data: ['categories'] },{ data: ['listing-date-sort'] },{ data: ['listing-file-modified-sort'] }],
          
          searchColumns: [],
        };

        window['quarto-listings'] = window['quarto-listings'] || {};
        window['quarto-listings']['listing-posts-computacao'] = new List('listing-posts-computacao', options);

        if (window['quarto-listing-loaded']) {
          window['quarto-listing-loaded']();
        }
      });

      window.addEventListener('hashchange',() => {
        if (window['quarto-listing-loaded']) {
          window['quarto-listing-loaded']();
        }
      })
      

      window.document.addEventListener("DOMContentLoaded", function (_event) {
        const listingTargetEl = window.document.querySelector('#listing-posts-biomol .list');
        if (!listingTargetEl) {
          // No listing discovered, do not attach.
          return; 
        }

        const options = {
          valueNames: [{ data: ['index'] },{ data: ['categories'] },{ data: ['listing-date-sort'] },{ data: ['listing-file-modified-sort'] }],
          
          searchColumns: [],
        };

        window['quarto-listings'] = window['quarto-listings'] || {};
        window['quarto-listings']['listing-posts-biomol'] = new List('listing-posts-biomol', options);

        if (window['quarto-listing-loaded']) {
          window['quarto-listing-loaded']();
        }
      });

      window.addEventListener('hashchange',() => {
        if (window['quarto-listing-loaded']) {
          window['quarto-listing-loaded']();
        }
      })
      

      window.document.addEventListener("DOMContentLoaded", function (_event) {
        const listingTargetEl = window.document.querySelector('#listing-posts-estatistica .list');
        if (!listingTargetEl) {
          // No listing discovered, do not attach.
          return; 
        }

        const options = {
          valueNames: [{ data: ['index'] },{ data: ['categories'] },{ data: ['listing-date-sort'] },{ data: ['listing-file-modified-sort'] }],
          
          searchColumns: [],
        };

        window['quarto-listings'] = window['quarto-listings'] || {};
        window['quarto-listings']['listing-posts-estatistica'] = new List('listing-posts-estatistica', options);

        if (window['quarto-listing-loaded']) {
          window['quarto-listing-loaded']();
        }
      });

      window.addEventListener('hashchange',() => {
        if (window['quarto-listing-loaded']) {
          window['quarto-listing-loaded']();
        }
      })
      

      window.document.addEventListener("DOMContentLoaded", function (_event) {
        const listingTargetEl = window.document.querySelector('#listing-posts-filosofia .list');
        if (!listingTargetEl) {
          // No listing discovered, do not attach.
          return; 
        }

        const options = {
          valueNames: [{ data: ['index'] },{ data: ['categories'] },{ data: ['listing-date-sort'] },{ data: ['listing-file-modified-sort'] }],
          
          searchColumns: [],
        };

        window['quarto-listings'] = window['quarto-listings'] || {};
        window['quarto-listings']['listing-posts-filosofia'] = new List('listing-posts-filosofia', options);

        if (window['quarto-listing-loaded']) {
          window['quarto-listing-loaded']();
        }
      });

      window.addEventListener('hashchange',() => {
        if (window['quarto-listing-loaded']) {
          window['quarto-listing-loaded']();
        }
      })
      

      window.document.addEventListener("DOMContentLoaded", function (_event) {
        const listingTargetEl = window.document.querySelector('#listing-posts-neurociencia .list');
        if (!listingTargetEl) {
          // No listing discovered, do not attach.
          return; 
        }

        const options = {
          valueNames: [{ data: ['index'] },{ data: ['categories'] },{ data: ['listing-date-sort'] },{ data: ['listing-file-modified-sort'] }],
          
          searchColumns: [],
        };

        window['quarto-listings'] = window['quarto-listings'] || {};
        window['quarto-listings']['listing-posts-neurociencia'] = new List('listing-posts-neurociencia', options);

        if (window['quarto-listing-loaded']) {
          window['quarto-listing-loaded']();
        }
      });

      window.addEventListener('hashchange',() => {
        if (window['quarto-listing-loaded']) {
          window['quarto-listing-loaded']();
        }
      })
      </script><link rel="stylesheet" href="../../../cyanobacteria.css">
    <title>Pipeline AnnoTEP (EDTA)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
</head>
<body class="fullcontent quarto-light">
    <div class="container">
        <header>
            <span>Pipeline AnnoTEP (EDTA)</span>
        </header>
        <div class="small">
            <nav>
                <div>Navegação</div>
                <a href="../../../index.html">Início</a>
                <a href="../../../posts.html">Posts</a>
                <a href="../../../curriculum.html">Currículo</a>
                <a href="../../../about.html">Sobre</a>
            </nav>
        </div>
        <section class="large">
            <p><strong>Contextualização</strong></p>
            <p>Nos posts anteriores, detalhei o processo de descontaminação com <em>BlobToolsKit</em> e <em>Mitohifi</em>. A montagem está limpa de contaminantes exógenos, mas ainda não funcional. O genoma de <em>Andropogon gayanus</em> possui cerca de 80% de conteúdo repetitivo, composto majoritariamente por <strong>Elementos Transponíveis (TEs)</strong>. Sem a identificação e o mascaramento dessas regiões, as ferramentas de predição gênica (como Augustus) falham devido ao excesso de ruído.</p>
            <hr>
            <p><strong>Metodologia</strong></p>
            <p>Para a anotação estrutural, utilizei o software <strong>AnnoTEP</strong>, que implementa o pipeline <strong>EDTA</strong> (<em>Extensive de-novo TE Annotator</em>). O diferencial do EDTA é a anotação <em>de novo</em> combinada com filtros rigorosos para redução de falsos positivos, essencial para organismos não-modelo.</p>
            
            <p><strong>Classificação dos Elementos</strong></p>
            <p>Os elementos transponíveis são divididos em duas classes baseadas no intermediário de transposição.</p>

            <table class="table table-bordered table-hover">
                <thead class="table-dark">
                    <tr>
                        <th>Classe</th>
                        <th>Intermediário</th>
                        <th>Mecanismo</th>
                        <th>Tipos Principais</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Classe I</strong></td>
                        <td>RNA</td>
                        <td>Retrotransposição (Copy-Paste)</td>
                        <td><strong>LTRs</strong> (Gypsy, Copia), LINEs.</td>
                    </tr>
                    <tr>
                        <td><strong>Classe II</strong></td>
                        <td>DNA</td>
                        <td>Transposição (Cut-Paste)</td>
                        <td><strong>TIRs</strong>, <strong>MITEs</strong>, <strong>Helitrons</strong>.</td>
                    </tr>
                </tbody>
            </table>

            <p><strong>Identificação de MITEs e TIR-Learner</strong></p>
            <p>A identificação de <strong>MITEs</strong> (<em>Miniature Inverted-repeat Transposable Elements</em>) apresenta dificuldade técnica elevada. Por serem curtos e possuírem repetições invertidas, assemelham-se a estruturas aleatórias do genoma.</p>
            <p>O EDTA utiliza o módulo <strong>TIR-Learner</strong>, que aplica <em>Machine Learning</em> para validação. O software analisa três parâmetros principais para distinguir um MITE verdadeiro de ruído genômico:</p>

            <table class="table table-bordered">
                <thead class="table-light">
                    <tr>
                        <th>Critério</th>
                        <th>Descrição Técnica</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>TSD (Target Site Duplication)</strong></td>
                        <td>Presença obrigatória de duplicação do sítio de inserção flanqueando as bordas invertidas.</td>
                    </tr>
                    <tr>
                        <td><strong>K-mer Composition</strong></td>
                        <td>Análise da frequência de k-mers. MITEs possuem composição de nucleotídeos distinta de regiões intergênicas aleatórias.</td>
                    </tr>
                    <tr>
                        <td><strong>Homology Filter</strong></td>
                        <td>Remoção de candidatos que apresentam similaridade de sequência com LTRs conhecidos (falso positivo por fragmentação).</td>
                    </tr>
                </tbody>
            </table>

            <hr>
            <p><strong>Troubleshooting e Execução no Docker</strong></p>
            <p>Utilizou-se a imagem <code>annotep/annotep-cli:v1.1</code>. Durante a configuração inicial, ocorreu um erro de referência ao caminho do script Python ao utilizar o diretório de trabalho padrão.</p>
            
            <p><strong>Erro apresentado:</strong></p>
            <div class="alert alert-danger" role="alert">
                <code>python: can't open file '/in/run_annotep.py': [Errno 2] No such file or directory</code>
            </div>

            <p><strong>Solução:</strong></p>
            <p>Foi necessário localizar o caminho absoluto do executável dentro do container utilizando o comando <code>find</code> e sobrescrevendo o <code>entrypoint</code>:</p>
            <pre class="bg-light p-3 border"><code>docker run --rm --entrypoint "" annotep/annotep-cli:v1.1 find / -name run_annotep.py 2>/dev/null</code></pre>
            <p><em>Output:</em> <code>/usr/local/AnnoTEP/cli/run_annotep.py</code></p>

            <p><strong>Comando de Execução Final:</strong></p>
            <p>Com o caminho corrigido, o processamento das montagens (Primary e Haplótipos) foi iniciado:</p>
            <pre class="bg-light p-3 border"><code>docker run --rm -v "$PWD:/in" -w /in annotep/annotep-cli:v1.1 \
  python /usr/local/AnnoTEP/cli/run_annotep.py \
  --genome andropogon.asmJM.bp.p_ctg.clean.blob.fa \
  --step all \
  --threads 10</code></pre>

            <p>Este processo resultará na biblioteca <code>.TElib.fa</code> para mascaramento do genoma e no cálculo do índice LAI (<em>LTR Assembly Index</em>).</p>
            
        </section>
    </div>
    <footer>
        <span>Jomaserver Blog by <a href="https://jomaserver.github.io/posts.html">João Marcelo</a></span>
    </footer>
</body></html>